#trigger: none
trigger:
- main
pr: none

pool: 'Azure Pipelines'

jobs:
- job: FirstJob
  displayName: First Job
  steps:
  - bash: |
      echo "So damn, let's start"
    name: dummy_step
  - bash: |
      SOME_VAR="bla-bla-bla"
      echo "set output pipeline variable:"
      echo "##vso[task.setvariable variable=firstJobVar;isOutput=true]${SOME_VAR}"
    name: set_output_variable
  - bash: |
      echo $(set_output_variable.firstJobVar)
    name: access_output_variable

- job: SecondJob
  displayName: Second Job
  dependsOn: ['FirstJob']
  variables:
    secondJobVar: $[ dependencies.FirstJob.outputs['set_output_variable.firstJobVar'] ] 
  steps:      
  - bash: |
    echo "The value of the dinamic pipeline variable 'secondJobVar' is $(secondJobVar)"
  name: access_output_variable_from_first_job
